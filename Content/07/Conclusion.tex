\section{Conclusion}

\subsection{Modern Web Application}

The discuss system is the cornerstone, which provides users the basic functionalities for discussion such like authentication, questioning and answering. The Single-Page-Application architecture is applied while concepting and implementing this discussion system. Since the client application and the server application are fully separated, the data definitions and data communication between two sides have also been discussed and implemented. RESTFul APIs within the system, which is used as a lightweight and universal web service for the data transmission, are designed and implemented on the server side.

Implementation details of building the client application using \textit{React.js} are also described. The concept of \textit{Componentization} is introduced, namely, all the views are actually compositions of various components. Fine-grained components are defined with templates and data representation logic inside.

In addition, in order to accelerate the development process, as well as the deployment process for further usage, an automated building workflow is also considered. 


\subsection{Objectified Canvas}

The graphical discussion contribution made by users, which is efficient for persistence purpose and is able to be restored back to the Canvas for the quote functionality, is the main topic of this thesis. For exploring the possibility, deficiencies of native Canvas are revealed. 

As a feasible approach to realize the feature mentioned above, an objectified Canvas is designed and implemented. Instead of exporting image data describing each pixel from native Canvas, the objectified Canvas outputs the graphical content to a serialized data  of all objects with various properties on its Canvas. 

In the evaluation phase, the storing efficiency of graphical data exported from objectified Canvas has been proved. Comparing to the image data outputted from native Canvas, the size of data model exported from objectified Canvas is much smaller, if the amount of components doesn't reach the thresholds which is basically a relative huge number.

The relationship of rendering performance of the objectified Canvas and amount of components has also been analyzed in the evaluation. As a result, the rendering performance is approximately linear to the amount of components. Moreover, as a part of the total time in the rendering process, the scripting time occupies the majority of time consumption. 


\subsection{Real-time communication}



Real-time communication, which enables the bi-directional communication between client and server, is also a focal point of this work. Arbitrary resources are able to be subscribed and users will get notified and acquire the newest data passively as the content of subscribed resource changes.

To achieve this goal, \textit{WebSocket} is applied as the basic real-time communication protocol. To broadcast data precisely through WebSocket to the users who subscribe the certain resources, a list which maps user socket to  resource id is maintained by server, after a WebSocket connection has been successfully established. As the state of  resource is changed, users who have subscribed this resource are notified with the new state of resource by querying the mapping relation in the list.


\section{Future Work}

Although the developed prototype of graphical discussion system covers the requirements and realizes the basic functionalities, some future researches and improvements are still needed to be done.

\textbf{Notification system could be extended for the discussion system.} For now, users won't get notified if new answers are posted under their own questions. Therefore, a notification system is proposed. Users would also be able to subscribe a certain question or class he interested in for further notifications if new contributions are made under it.

\textbf{More pre-defined shapes of components should be extended for the drawing tool.} According to the result of evaluation in section \ref{sec:eval-usability}, most users hold the idea that the preset of shapes in the drawing tool are far not enough. Therefore, the drawing tool should have provided more pre-defined components natively, which will significantly ease the drawing process and helps the user to express the precise; graphical content as expected. 

\textbf{Divers stylings of text on the drawing tool should be implemented.} The developed drawing tool already provides the possibility to input textual content for now. However the current styling of the text is still circumscribed. At present, adjusting the size or color of the text is already possible. More stylings such as strikethrough, list format could be extended in the future. 